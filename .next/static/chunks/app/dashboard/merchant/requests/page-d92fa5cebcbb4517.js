(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955],{9046:function(e,t,r){Promise.resolve().then(r.bind(r,9600))},9600:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var s=r(7437),a=r(2265),i=r(9376),n=r(2869),l=r(6070),c=r(5974),d=r(2252),o=r(5302);let u=(0,r(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var x=r(2660),m=r(1047),h=r(2369),f=r(1723),p=r(3774),g=r(3417),v=r(4630),j=r(8930),y=r(2141),b=r(3145),N=r(7992),_=r(6524),w=r(5186),k=r(6815),S=r(2489);function D(e){var t;let{isOpen:r,onClose:i,request:c,onSave:d}=e,{toast:o}=(0,N.pm)(),[u,x]=(0,a.useState)(!1),[h,v]=(0,a.useState)({requested_date:"",start_time:"",duration_hours:"",merchant_address:"",description:""});(0,a.useEffect)(()=>{c&&v({requested_date:new Date(c.requested_date).toISOString().split("T")[0],start_time:c.start_time.substring(0,5),duration_hours:c.duration_hours.toString(),merchant_address:c.merchant_address,description:c.description})},[c]);let j=async e=>{if(e.preventDefault(),c){x(!0);try{let e={requested_date:new Date(h.requested_date+"T"+h.start_time).toISOString(),start_time:h.start_time,duration_hours:parseFloat(h.duration_hours),merchant_address:h.merchant_address,description:h.description};await d(e),o({title:"Richiesta aggiornata",description:"La richiesta di servizio \xe8 stata modificata con successo"}),i()}catch(e){console.error("Error updating request:",e),o({title:"Errore",description:"Errore durante l'aggiornamento della richiesta"})}finally{x(!1)}}},y=(e,t)=>{v(r=>({...r,[e]:t}))};return r&&c?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(l.Zb,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{className:"text-xl",children:"Modifica Richiesta di Servizio"}),(0,s.jsxs)(l.SZ,{children:["Modifica i dettagli della richiesta per ",c.rider.full_name]})]}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:i,children:(0,s.jsx)(S.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(k._,{htmlFor:"requested_date",children:"Data *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(w.I,{id:"requested_date",type:"date",value:h.requested_date,onChange:e=>y("requested_date",e.target.value),className:"pl-10",min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+6048e5).toISOString().split("T")[0],required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k._,{htmlFor:"start_time",children:"Ora di Inizio *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(w.I,{id:"start_time",type:"time",value:h.start_time,onChange:e=>y("start_time",e.target.value),className:"pl-10",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k._,{htmlFor:"duration_hours",children:"Durata *"}),(0,s.jsxs)("select",{id:"duration_hours",value:h.duration_hours,onChange:e=>y("duration_hours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Seleziona durata"}),(0,s.jsx)("option",{value:"1",children:"1 ora"}),(0,s.jsx)("option",{value:"2",children:"2 ore"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k._,{htmlFor:"merchant_address",children:"Indirizzo di Servizio *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(w.I,{id:"merchant_address",type:"text",value:h.merchant_address,onChange:e=>y("merchant_address",e.target.value),placeholder:"L'indirizzo completo dove il rider deve presentarsi",className:"pl-10",required:!0})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Pu\xf2 essere l'indirizzo della tua attivit\xe0 o qualsiasi altro indirizzo dove serve il servizio"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k._,{htmlFor:"description",children:"Istruzioni e Comunicazioni *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)("textarea",{id:"description",value:h.description,onChange:e=>y("description",e.target.value),className:"w-full px-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Inserisci istruzioni specifiche, indirizzi, note particolari o comunicazioni per il rider...",required:!0})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Campo obbligatorio - minimo 2 caratteri"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:"Riepilogo Modifiche"}),(0,s.jsxs)("div",{className:"text-sm space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Data richiesta:"}),(0,s.jsx)("span",{children:new Date(h.requested_date).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Ora di inizio:"}),(0,s.jsx)("span",{children:h.start_time})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Durata:"}),(0,s.jsxs)("span",{children:[h.duration_hours," ","1"===h.duration_hours?"ora":"ore"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Indirizzo:"}),(0,s.jsx)("span",{className:"text-right max-w-xs truncate",title:h.merchant_address,children:h.merchant_address})]}),(0,s.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,s.jsx)("span",{children:"Costo stimato:"}),(0,s.jsxs)("span",{children:["€",((null===(t=c.rider.riders_details)||void 0===t?void 0:t.hourly_rate)||0)*parseFloat(h.duration_hours||"0")]})]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)(n.z,{type:"button",variant:"outline",onClick:i,className:"flex-1",disabled:u,children:"Annulla"}),(0,s.jsx)(n.z,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:u||h.description.trim().length<2,children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvataggio..."]}):"Salva Modifiche"})]})]})})]})}):null}function Z(){let e=(0,i.useRouter)(),{toast:t}=(0,N.pm)(),[r,w]=(0,a.useState)([]),[k,S]=(0,a.useState)(!0),[Z,z]=(0,a.useState)(null),[q,C]=(0,a.useState)(null),[T,I]=(0,a.useState)(null),[E,O]=(0,a.useState)(!1);(0,a.useEffect)(()=>{R()},[]),(0,a.useEffect)(()=>{q&&A()},[q]);let R=(0,a.useCallback)(async()=>{try{let{data:{user:t},error:r}=await y.O.auth.getUser();if(r||!t){e.push("/auth/login");return}let{data:s,error:a}=await y.O.from("profiles").select("*").eq("id",t.id).single();if(a)throw a;C(s)}catch(e){console.error("Error fetching profile:",e),z("Errore nel caricamento del profilo")}},[e]),A=(0,a.useCallback)(async()=>{if(q)try{console.log("\uD83D\uDD0D Fetching service requests for merchant...");let{data:e,error:t}=await y.O.from("service_requests").select("\n          id,\n          requested_date,\n          start_time,\n          duration_hours,\n          merchant_address,\n          description,\n          status,\n          rider_response,\n          created_at,\n          updated_at,\n          rider:profiles!rider_id (\n            id,\n            full_name,\n            avatar_url,\n            riders_details (\n              hourly_rate,\n              profile_picture_url\n            )\n          )\n        ").eq("merchant_id",q.id).order("created_at",{ascending:!1});if(t)throw console.error("❌ Error fetching service requests:",t),t;let r=(e||[]).map(e=>{let t=Array.isArray(e.rider)?e.rider[0]:e.rider;return{...e,rider:{...t,riders_details:Array.isArray(null==t?void 0:t.riders_details)?t.riders_details[0]:null==t?void 0:t.riders_details}}}).filter(e=>e.rider);console.log("✅ Service requests fetched:",r),w(r)}catch(e){console.error("Error fetching service requests:",e),z("Errore nel caricamento delle richieste di servizio")}finally{S(!1)}},[q]),M=e=>{switch(e){case"pending":return(0,s.jsx)(c.C,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"In Attesa"});case"accepted":return(0,s.jsx)(c.C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Accettata"});case"rejected":return(0,s.jsx)(c.C,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Rifiutata"});case"expired":return(0,s.jsx)(c.C,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Scaduta"});default:return(0,s.jsx)(c.C,{variant:"outline",children:e})}},P=e=>{switch(e){case"pending":return(0,s.jsx)(d.Z,{className:"h-4 w-4 text-yellow-600"});case"accepted":return(0,s.jsx)(o.Z,{className:"h-4 w-4 text-green-600"});case"rejected":return(0,s.jsx)(u,{className:"h-4 w-4 text-red-600"});default:return(0,s.jsx)(d.Z,{className:"h-4 w-4 text-gray-600"})}},V=e=>new Date(e).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),F=e=>e.substring(0,5),L=e=>{console.log("\uD83D\uDD27 Edit request clicked:",e.id),I(e),O(!0)},Y=async e=>{if(console.log("\uD83D\uDDD1️ Delete request clicked:",e),confirm("Sei sicuro di voler eliminare questa richiesta di servizio?"))try{console.log("\uD83D\uDDD1️ Attempting to delete request:",e);let{data:r,error:s}=await y.O.from("service_requests").delete().eq("id",e).select();if(console.log("\uD83D\uDDD1️ Delete result:",{data:r,error:s}),s)throw console.error("❌ Delete error:",s),s;console.log("✅ Delete successful:",r),t({title:"Richiesta eliminata",description:"La richiesta di servizio \xe8 stata eliminata con successo"}),A()}catch(e){console.error("❌ Error deleting request:",e),t({title:"Errore",description:"Errore durante l'eliminazione della richiesta: ".concat(e.message)})}},U=async e=>{if(T)try{console.log("\uD83D\uDCBE Saving request changes:",T.id,e);let{data:t,error:r}=await y.O.from("service_requests").update(e).eq("id",T.id).select();if(console.log("\uD83D\uDCBE Update result:",{data:t,error:r}),r)throw console.error("❌ Update error:",r),r;console.log("✅ Update successful:",t),A(),O(!1),I(null)}catch(e){throw console.error("❌ Error updating request:",e),e}};return k?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Caricamento richieste..."})]})}):Z?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)(l.Zb,{className:"w-full max-w-md",children:(0,s.jsxs)(l.aY,{className:"text-center p-6",children:[(0,s.jsx)("p",{className:"text-red-500 mb-4",children:Z}),(0,s.jsxs)(n.z,{onClick:()=>e.back(),children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Torna Indietro"]})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(n.z,{variant:"ghost",onClick:()=>e.back(),className:"mb-4",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Torna alla Dashboard"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestisci Richieste di Servizio"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Visualizza e gestisci tutte le richieste di servizio inviate ai rider"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(l.Zb,{children:(0,s.jsx)(l.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5 text-yellow-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"In Attesa"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:r.filter(e=>"pending"===e.status).length})]})]})})}),(0,s.jsx)(l.Zb,{children:(0,s.jsx)(l.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-green-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Accettate"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:r.filter(e=>"accepted"===e.status).length})]})]})})}),(0,s.jsx)(l.Zb,{children:(0,s.jsx)(l.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u,{className:"h-5 w-5 text-red-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Rifiutate"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:r.filter(e=>"rejected"===e.status).length})]})]})})}),(0,s.jsx)(l.Zb,{children:(0,s.jsx)(l.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5 text-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Totale"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]})]})})})]}),0===r.length?(0,s.jsx)(l.Zb,{children:(0,s.jsxs)(l.aY,{className:"text-center p-8",children:[(0,s.jsx)(m.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nessuna Richiesta di Servizio"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Non hai ancora inviato richieste di servizio ai rider."}),(0,s.jsx)(n.z,{onClick:()=>e.push("/riders"),children:"Trova Rider"})]})}):(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>{var t,r,a;return(0,s.jsx)(l.Zb,{className:"hover:shadow-md transition-shadow",children:(0,s.jsx)(l.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center flex-shrink-0",children:(null===(t=e.rider.riders_details)||void 0===t?void 0:t.profile_picture_url)||e.rider.avatar_url?(0,s.jsx)(b.default,{src:(null===(r=e.rider.riders_details)||void 0===r?void 0:r.profile_picture_url)||e.rider.avatar_url||"",alt:e.rider.full_name,width:48,height:48,className:"w-full h-full object-cover"}):(0,s.jsx)(h.Z,{className:"h-6 w-6 text-gray-400"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.rider.full_name}),P(e.status)]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:V(e.requested_date)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[F(e.start_time)," -"," ",e.duration_hours,"h di servizio"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"truncate",title:e.merchant_address,children:e.merchant_address})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("span",{className:"font-medium",children:(0,_.xG)(((null===(a=e.rider.riders_details)||void 0===a?void 0:a.hourly_rate)||0)*e.duration_hours)})})]}),e.description&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-gray-700",children:e.description})]})}),e.rider_response&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Risposta del Rider:"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:e.rider_response})]})]})})]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end space-y-2",children:[M(e.status),"pending"===e.status&&(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>L(e),className:"h-8 px-3",children:[(0,s.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),"Modifica"]}),(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>Y(e.id),className:"h-8 px-3 text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,s.jsx)(j.Z,{className:"h-3 w-3 mr-1"}),"Elimina"]})]})]})]})})},e.id)})}),(0,s.jsx)(D,{isOpen:E,onClose:()=>{O(!1),I(null)},request:T,onSave:U})]})})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(7437);r(2265);var a=r(535),i=r(4508);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...a})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(7437),a=r(2265),i=r(7053),n=r(535),l=r(4508);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...o}=e,u=d?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(c({variant:a,size:n,className:r})),ref:t,...o})});d.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var s=r(7437),a=r(2265),i=r(4508);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(7437),a=r(2265),i=r(4508);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var s=r(7437),a=r(2265),i=r(6394),n=r(535),l=r(4508);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,l.cn)(c(),r),...a})});d.displayName=i.f.displayName},7992:function(e,t,r){"use strict";r.d(t,{Am:function(){return u},pm:function(){return x}});var s=r(2265);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function o(e){d=l(d,e),c.forEach(e=>{e(d)})}function u(e){let t=(a=(a+1)%1e6).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,t]=s.useState(d);return s.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},6524:function(e,t,r){"use strict";function s(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)}r.d(t,{xG:function(){return s}})},2141:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(5214).createBrowserClient)("https://uolpvxgcobjefivqnscj.supabase.co","sb_publishable_XfZivZLXatSeakd_ccimng_ZiTnn0dN")},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(1994),a=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},2252:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5302:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3774:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3417:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4630:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(8461),a=r.n(s)},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return l}});let s=r(7043),a=r(5346),i=r(5878),n=s._(r(5084));function l(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=i.Image},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var s=r(2265),a=r(6840),i=r(7437),n=s.forwardRef((e,t)=>(0,i.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n},6840:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return c}});var s=r(2265),a=r(4887),i=r(7053),n=r(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,i.Z8)(`Primitive.${t}`),a=s.forwardRef((e,s)=>{let{asChild:a,...i}=e,l=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[214,569,818,971,117,744],function(){return e(e.s=9046)}),_N_E=e.O()}]);