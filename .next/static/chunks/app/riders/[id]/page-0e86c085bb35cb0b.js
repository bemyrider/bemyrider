(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{9923:function(e,r,t){Promise.resolve().then(t.bind(t,5093))},5093:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return _}});var i=t(7437),s=t(2265),a=t(9376),n=t(2869),o=t(6070),l=t(5186),d=t(6815),c=t(5974),u=t(2660);let f=(0,t(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var m=t(2369),x=t(421),p=t(1477),h=t(1047),g=t(2141),v=t(3145),b=t(7992),y=t(6524),j=t(8685);function _(){var e,r,t,_,N,w;let S=(0,a.useParams)(),O=(0,a.useRouter)(),{toast:I}=(0,b.pm)(),R=S.id,[D,E]=(0,s.useState)(null),[z,k]=(0,s.useState)(!0),[A,T]=(0,s.useState)(!1),[C,M]=(0,s.useState)(null),[Z,P]=(0,s.useState)([]),[V,L]=(0,s.useState)(null),[U,H]=(0,s.useState)(!1),[q,G]=(0,s.useState)(!1),[B,F]=(0,s.useState)(""),[Y,K]=(0,s.useState)(""),[X,W]=(0,s.useState)(""),[$,J]=(0,s.useState)(""),[Q,ee]=(0,s.useState)(""),[er,et]=(0,s.useState)(null);(0,s.useEffect)(()=>{ei()},[R]),(0,s.useEffect)(()=>{D&&ea()},[D]),(0,s.useEffect)(()=>{if(B&&Y&&X){let e=es();et(e.isValid?null:e.message)}else et(null)},[B,Y,X,Z]);let ei=async()=>{try{k(!0);let{data:e,error:r}=await g.O.from("profiles").select("\n          id,\n          full_name,\n          avatar_url,\n          riders_details (\n            vehicle_type,\n            profile_picture_url,\n            bio,\n            hourly_rate,\n            stripe_account_id,\n            stripe_onboarding_complete\n          )\n        ").eq("id",R).eq("role","rider").single();if(r){console.error("Error fetching rider profile:",r),M("Rider non trovato");return}let t=Array.isArray(e.riders_details)?e.riders_details[0]:e.riders_details;E({id:e.id,full_name:e.full_name,avatar_url:e.avatar_url,riders_details:t});let{data:i,error:s}=await g.O.from("disponibilita_riders").select("*").eq("rider_id",R).order("day_of_week");!s&&i&&P(i);let{data:{user:a}}=await g.O.auth.getUser();if(a){let{data:e,error:r}=await g.O.from("esercenti").select("*").eq("id",a.id).single();!r&&e&&L(e)}}catch(e){console.error("Error:",e),M("Errore nel caricamento del profilo rider")}finally{k(!1)}},es=()=>{if(!B||!Y||!X||0===Z.length)return{isValid:!0,message:""};let e=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"][new Date(B).getDay()],r=Z.find(r=>r.day_of_week===e);if(!r)return{isValid:!1,message:"Il rider non \xe8 disponibile il ".concat(e.toLowerCase(),". Giorni disponibili: ").concat(Z.map(e=>e.day_of_week).join(", "))};let[t,i]=Y.split(":").map(Number),s=parseFloat(X),a="".concat((t+Math.floor(s)).toString().padStart(2,"0"),":").concat(Math.floor(i+s%1*60).toString().padStart(2,"0")),n=r.start_time,o=r.end_time;return Y<n||a>o?{isValid:!1,message:"Il servizio (".concat(Y," - ").concat(a,") non rientra negli orari disponibili del rider per il ").concat(e.toLowerCase()," (").concat(n," - ").concat(o,")")}:{isValid:!0,message:""}},ea=async()=>{try{let r=await fetch("/api/favorites");if(r.ok){var e;let t=await r.json();H((null===(e=t.favorites)||void 0===e?void 0:e.includes(R))||!1)}}catch(e){console.error("Errore nel controllo dello stato dei preferiti:",e)}},en=async()=>{if(D){G(!0),H(!U);try{U?(await fetch("/api/favorites/".concat(R),{method:"DELETE"})).ok?I({title:"Rimosso dai preferiti",description:"".concat(D.full_name," \xe8 stato rimosso dai tuoi preferiti")}):(H(!0),I({title:"Errore",description:"Impossibile rimuovere dai preferiti"})):(await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({riderId:R})})).ok?I({title:"Aggiunto ai preferiti",description:"".concat(D.full_name," \xe8 stato aggiunto ai tuoi preferiti")}):(H(!1),I({title:"Errore",description:"Impossibile aggiungere ai preferiti"}))}catch(e){console.error("Errore nella gestione dei preferiti:",e),H(U),I({title:"Errore",description:"Errore di connessione"})}finally{G(!1)}}},eo=async e=>{if(e.preventDefault(),console.log("\uD83D\uDE80 handleBookingSubmit called"),console.log("\uD83D\uDCDD Form data:",{startDate:B,startTime:Y,duration:X,description:Q}),!B||!Y||!X||!Q||Q.trim().length<2){console.log("❌ Validation failed - missing required fields"),I({title:"Errore",description:"Compila tutti i campi obbligatori. Le istruzioni devono contenere almeno 2 caratteri."});return}let r=parseFloat(X);if(!(0,j.Pz)(r)){console.log("❌ Validation failed - invalid booking hours"),I({title:"Errore",description:j.RZ.INVALID_BOOKING_HOURS});return}console.log("\uD83D\uDD0D Validating availability...");let t=es();if(console.log("\uD83D\uDD0D Validation result:",t),!t.isValid){console.log("❌ Availability validation failed"),I({title:"Conflitto con le Disponibilit\xe0",description:t.message});return}console.log("✅ Validation passed, proceeding with booking..."),T(!0);try{let{data:{user:e},error:r}=await g.O.auth.getUser();if(r||!e){I({title:"Errore",description:"Devi essere autenticato per effettuare una prenotazione"}),O.push("/auth/login");return}let{data:t,error:i}=await g.O.from("service_requests").insert({merchant_id:e.id,rider_id:null==D?void 0:D.id,requested_date:new Date(B+"T"+Y).toISOString(),start_time:Y,duration_hours:parseFloat(X),merchant_address:$,description:Q,status:"pending"}).select().single();if(i)throw console.error("❌ Error creating service request:",i),Error("Errore nella creazione della richiesta di servizio");console.log("✅ Service request created:",t),I({title:"Richiesta Inviata!",description:"Richiesta di servizio inviata a ".concat(null==D?void 0:D.full_name,". Riceverai una risposta entro 24 ore.")}),O.push("/dashboard/merchant")}catch(e){console.error("Error creating booking:",e),I({title:"Errore",description:"Errore durante l'invio della richiesta di servizio"})}finally{T(!1)}};return z?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,i.jsx)("p",{className:"mt-4 text-gray-600",children:"Caricamento profilo rider..."})]})}):C||!D?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsx)(o.Zb,{className:"w-full max-w-md",children:(0,i.jsxs)(o.aY,{className:"text-center p-6",children:[(0,i.jsx)("p",{className:"text-red-500 mb-4",children:C||"Rider non trovato"}),(0,i.jsxs)(n.z,{onClick:()=>O.back(),children:[(0,i.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Torna Indietro"]})]})})}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)(n.z,{variant:"ghost",onClick:()=>O.back(),children:[(0,i.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Torna alla Lista Rider"]}),V&&D&&(0,i.jsxs)(n.z,{variant:"ghost",onClick:en,disabled:q,className:"flex items-center gap-2 px-4 py-2 hover:bg-red-50",children:[(0,i.jsx)(f,{className:"h-5 w-5 ".concat(U?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-400")}),(0,i.jsx)("span",{className:"text-sm font-medium",children:U?"Nei Preferiti":"Aggiungi ai Preferiti"})]})]}),(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:V?"Prenota Rider":"Profilo Rider"}),(0,i.jsx)("p",{className:"text-gray-600",children:V?"Effettua una prenotazione con ".concat(D.full_name):"Visualizza il profilo di ".concat(D.full_name)})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,i.jsxs)(o.Zb,{children:[(0,i.jsx)(o.Ol,{children:(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:(null===(e=D.riders_details)||void 0===e?void 0:e.profile_picture_url)||D.avatar_url?(0,i.jsx)(v.default,{src:(null===(r=D.riders_details)||void 0===r?void 0:r.profile_picture_url)||D.avatar_url||"",alt:D.full_name,width:64,height:64,className:"w-full h-full object-cover"}):(0,i.jsx)(m.Z,{className:"h-8 w-8 text-gray-400"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(o.ll,{className:"text-xl",children:D.full_name}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,i.jsx)(x.Z,{className:"h-4 w-4 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm text-gray-600",children:(null===(t=D.riders_details)||void 0===t?void 0:t.vehicle_type)||"Veicolo non specificato"})]})]})]})}),(0,i.jsxs)(o.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),(0,i.jsx)("span",{className:"font-medium",children:"Tariffa Oraria"})]}),(0,i.jsxs)(c.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[(0,y.xG)((null===(_=D.riders_details)||void 0===_?void 0:_.hourly_rate)||0),"/ora"]})]}),(null===(N=D.riders_details)||void 0===N?void 0:N.bio)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Biografia"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:D.riders_details.bio})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,i.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Disponibile"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Orari Disponibili"}),Z.length>0?(0,i.jsx)("div",{className:"space-y-1 text-sm text-gray-600",children:Z.map(e=>(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{children:[e.day_of_week,":"]}),(0,i.jsxs)("span",{children:[e.start_time," - ",e.end_time]})]},e.id))}):(0,i.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Nessun orario di disponibilit\xe0 configurato"})]})]})]})]}),V?(0,i.jsxs)(o.Zb,{children:[(0,i.jsxs)(o.Ol,{children:[(0,i.jsx)(o.ll,{children:"Richiesta di Servizio"}),(0,i.jsx)(o.SZ,{children:"Compila i dettagli per inviare una richiesta di servizio. Il rider valuter\xe0 la sua disponibilit\xe0 e ti risponder\xe0."})]}),(0,i.jsx)(o.aY,{children:(0,i.jsxs)("form",{onSubmit:eo,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(d._,{htmlFor:"startDate",children:"Data *"}),(0,i.jsx)(l.I,{id:"startDate",type:"date",value:B,onChange:e=>F(e.target.value),min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+6048e5).toISOString().split("T")[0],required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(d._,{htmlFor:"startTime",children:"Ora di Inizio *"}),(0,i.jsx)(l.I,{id:"startTime",type:"time",value:Y,onChange:e=>K(e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(d._,{htmlFor:"duration",children:["Durata (max ",j.SI.MAX_BOOKING_HOURS," ore) *"]}),(0,i.jsxs)("select",{id:"duration",value:X,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,i.jsx)("option",{value:"",children:"Seleziona durata"}),(0,i.jsx)("option",{value:"1",children:"1 ora"}),(0,i.jsx)("option",{value:"2",children:"2 ore"})]}),(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Massimo ",j.SI.MAX_BOOKING_HOURS," ore per prenotazione"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(d._,{htmlFor:"merchantAddress",children:"Indirizzo di Servizio *"}),(0,i.jsx)(l.I,{id:"merchantAddress",type:"text",value:$,onChange:e=>J(e.target.value),placeholder:"L'indirizzo completo dove il rider deve presentarsi",required:!0}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Pu\xf2 essere l'indirizzo della tua attivit\xe0 o qualsiasi altro indirizzo dove serve il servizio"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(d._,{htmlFor:"description",children:"Istruzioni e Comunicazioni *"}),(0,i.jsx)("textarea",{id:"description",value:Q,onChange:e=>ee(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Inserisci istruzioni specifiche, indirizzi, note particolari o comunicazioni per il rider...",required:!0}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Campo obbligatorio - minimo 2 caratteri"})]}),er&&(0,i.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:[(0,i.jsx)("strong",{children:"⚠️ Conflitto con le Disponibilit\xe0:"}),(0,i.jsx)("br",{}),er]}),B&&Y&&X&&$&&Q&&Q.trim().length>=2&&(0,i.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900",children:"Riepilogo Richiesta"}),(0,i.jsxs)("div",{className:"text-sm space-y-1",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Data richiesta:"}),(0,i.jsx)("span",{children:new Date(B).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Ora di inizio:"}),(0,i.jsx)("span",{children:Y})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Durata:"}),(0,i.jsxs)("span",{children:[X," ","1"===X?"ora":"ore"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Indirizzo:"}),(0,i.jsx)("span",{className:"text-right max-w-xs truncate",title:$,children:$})]}),Q&&(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Istruzioni:"}),(0,i.jsx)("span",{className:"text-right max-w-xs truncate",title:Q,children:Q})]}),(0,i.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,i.jsx)("span",{children:"Costo stimato:"}),(0,i.jsx)("span",{children:(0,y.xG)((parseFloat(X)||0)*((null==D?void 0:null===(w=D.riders_details)||void 0===w?void 0:w.hourly_rate)||0))})]})]}),(0,i.jsx)("div",{className:"mt-3 p-2 bg-blue-100 rounded text-xs text-blue-800",children:"\uD83D\uDCA1 Il rider ricever\xe0 questa richiesta e ti risponder\xe0 entro 24 ore"})]}),(0,i.jsx)(n.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:A||!!er,children:A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Invio Richiesta..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Verifica Disponibilit\xe0"]})})]})})]}):(0,i.jsxs)(o.Zb,{children:[(0,i.jsxs)(o.Ol,{children:[(0,i.jsx)(o.ll,{children:"Area Riservata agli Esercenti"}),(0,i.jsx)(o.SZ,{children:"Solo gli esercenti possono inviare richieste di servizio ai rider. Se sei un rider interessato a collaborare, attendi di ricevere richieste dagli esercenti."})]}),(0,i.jsx)(o.aY,{children:(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFEA"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Questa sezione \xe8 riservata agli esercenti per gestire le prenotazioni."})]})})]})]})]})})}},5974:function(e,r,t){"use strict";t.d(r,{C:function(){return o}});var i=t(7437);t(2265);var s=t(535),a=t(4508);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:t,...s}=e;return(0,i.jsx)("div",{className:(0,a.cn)(n({variant:t}),r),...s})}},2869:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var i=t(7437),s=t(2265),a=t(7053),n=t(535),o=t(4508);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,i.jsx)(u,{className:(0,o.cn)(l({variant:s,size:n,className:t})),ref:r,...c})});d.displayName="Button"},6070:function(e,r,t){"use strict";t.d(r,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return n},aY:function(){return c},ll:function(){return l}});var i=t(7437),s=t(2265),a=t(4508);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});n.displayName="Card";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},5186:function(e,r,t){"use strict";t.d(r,{I:function(){return n}});var i=t(7437),s=t(2265),a=t(4508);let n=s.forwardRef((e,r)=>{let{className:t,type:s,...n}=e;return(0,i.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n})});n.displayName="Input"},6815:function(e,r,t){"use strict";t.d(r,{_:function(){return d}});var i=t(7437),s=t(2265),a=t(6394),n=t(535),o=t(4508);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,i.jsx)(a.f,{ref:r,className:(0,o.cn)(l(),t),...s})});d.displayName=a.f.displayName},7992:function(e,r,t){"use strict";t.d(r,{Am:function(){return u},pm:function(){return f}});var i=t(2265);let s=0,a=new Map,n=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},o=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let r=(s=(s+1)%1e6).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:e=>{e||t()}}}),{id:r,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,r]=i.useState(d);return i.useEffect(()=>(l.push(r),()=>{let e=l.indexOf(r);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8685:function(e,r,t){"use strict";t.d(r,{P0:function(){return s},Pz:function(){return a},RZ:function(){return n},SI:function(){return i}});let i={MAX_RIDER_HOURLY_RATE:12.5,MAX_BOOKING_HOURS:2,MIN_RIDER_HOURLY_RATE:5,MIN_BOOKING_HOURS:1},s=e=>e>=i.MIN_RIDER_HOURLY_RATE&&e<=i.MAX_RIDER_HOURLY_RATE,a=e=>e>=i.MIN_BOOKING_HOURS&&e<=i.MAX_BOOKING_HOURS,n={INVALID_RIDER_RATE:"La tariffa oraria deve essere compresa tra €".concat(i.MIN_RIDER_HOURLY_RATE," e €").concat(i.MAX_RIDER_HOURLY_RATE),INVALID_BOOKING_HOURS:"Le ore di prenotazione devono essere comprese tra ".concat(i.MIN_BOOKING_HOURS," e ").concat(i.MAX_BOOKING_HOURS)}},6524:function(e,r,t){"use strict";function i(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)}t.d(r,{xG:function(){return i}})},2141:function(e,r,t){"use strict";t.d(r,{O:function(){return i}});let i=(0,t(5214).createBrowserClient)("https://uolpvxgcobjefivqnscj.supabase.co","sb_publishable_XfZivZLXatSeakd_ccimng_ZiTnn0dN")},4508:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var i=t(1994),s=t(3335);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,i.W)(r))}},2660:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});let i=(0,t(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},421:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});let i=(0,t(9763).Z)("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]])},1047:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});let i=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1477:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});let i=(0,t(9763).Z)("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]])},2369:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});let i=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3145:function(e,r,t){"use strict";t.d(r,{default:function(){return s.a}});var i=t(8461),s=t.n(i)},9376:function(e,r,t){"use strict";var i=t(5475);t.o(i,"useParams")&&t.d(r,{useParams:function(){return i.useParams}}),t.o(i,"useRouter")&&t.d(r,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(r,{useSearchParams:function(){return i.useSearchParams}})},8461:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return l},getImageProps:function(){return o}});let i=t(7043),s=t(5346),a=t(5878),n=i._(t(5084));function o(e){let{props:r}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let l=a.Image},6394:function(e,r,t){"use strict";t.d(r,{f:function(){return o}});var i=t(2265),s=t(6840),a=t(7437),n=i.forwardRef((e,r)=>(0,a.jsx)(s.WV.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var o=n},6840:function(e,r,t){"use strict";t.d(r,{WV:function(){return o},jH:function(){return l}});var i=t(2265),s=t(4887),a=t(7053),n=t(7437),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.Z8)(`Primitive.${r}`),s=i.forwardRef((e,i)=>{let{asChild:s,...a}=e,o=s?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...a,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function l(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}}},function(e){e.O(0,[214,569,818,971,117,744],function(){return e(e.s=9923)}),_N_E=e.O()}]);