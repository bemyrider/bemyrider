(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{9923:function(e,i,t){Promise.resolve().then(t.bind(t,8040))},8040:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return O}});var r=t(7437),s=t(2265),a=t(9376),n=t(2869),l=t(6070),o=t(5186),c=t(6815),d=t(5974),u=t(2660),m=t(9763);let f=(0,m.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var x=t(2369),h=t(421),p=t(1477),g=t(1047),v=t(2141),j=t(3145),b=t(7992),y=t(6524),N=t(8685),w=t(6110),_=t(3327),S=t(6362),k=t(2489);let z=(0,m.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),D=(0,m.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function C(e){let{portfolioImages:i=[],certifications:t=[],portfolioUrl:a,servicesDescription:o,riderName:c,isOwner:u=!1,onEdit:m}=e,[f,x]=(0,s.useState)(null),[h,p]=(0,s.useState)(0),g=e=>{x(e),p(e)},v=()=>{x(null)};return 0!==i.length||u?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Portfolio"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:u?"Gestisci il tuo portfolio":"Portfolio di ".concat(c)})]}),u&&m&&(0,r.jsx)(n.z,{onClick:m,size:"sm",variant:"outline",children:"Modifica Portfolio"})]}),i.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map((e,i)=>(0,r.jsx)(l.Zb,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>g(i),children:(0,r.jsx)(l.aY,{className:"p-0",children:(0,r.jsx)("div",{className:"relative aspect-square",children:(0,r.jsx)(j.default,{src:e,alt:"Portfolio ".concat(c," - ").concat(i+1),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 50vw, 33vw"})})})},i))}):(0,r.jsx)(l.Zb,{className:"border-dashed border-2 border-gray-300",children:(0,r.jsxs)(l.aY,{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF8"}),(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:u?"Nessuna immagine nel portfolio":"Portfolio vuoto"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:u?"Aggiungi delle immagini per mostrare il tuo lavoro":"".concat(c," non ha ancora aggiunto immagini al portfolio")}),u&&m&&(0,r.jsx)(n.z,{onClick:m,className:"mt-4",children:"Aggiungi Immagini"})]})}),t.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Certificazioni"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map((e,i)=>(0,r.jsx)(d.C,{variant:"secondary",className:"text-xs",children:e},i))})]}),o&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Servizi Offerti"}),(0,r.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:o})]}),a&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Portfolio Online"}),(0,r.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>window.open(a,"_blank"),className:"text-blue-600 hover:text-blue-800",children:[(0,r.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Visita Portfolio"]})]}),(0,r.jsx)(w.Vq,{open:null!==f,onOpenChange:v,children:(0,r.jsxs)(w.cZ,{className:"max-w-4xl max-h-[90vh] p-0",children:[(0,r.jsx)(w.fK,{className:"p-4 pb-0",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(w.$N,{className:"text-lg",children:["Portfolio di ",c," (",h+1," di"," ",i.length,")"]}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",onClick:v,children:(0,r.jsx)(k.Z,{className:"h-4 w-4"})})]})}),(0,r.jsxs)("div",{className:"relative flex items-center justify-center p-4",children:[i.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.z,{variant:"ghost",size:"sm",className:"absolute left-2 z-10 bg-black/50 text-white hover:bg-black/70",onClick:()=>{i.length>0&&p(e=>0===e?i.length-1:e-1)},children:(0,r.jsx)(z,{className:"h-6 w-6"})}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",className:"absolute right-2 z-10 bg-black/50 text-white hover:bg-black/70",onClick:()=>{i.length>0&&p(e=>(e+1)%i.length)},children:(0,r.jsx)(D,{className:"h-6 w-6"})})]}),(0,r.jsx)("div",{className:"relative max-h-[70vh] max-w-full",children:(0,r.jsx)(j.default,{src:i[h],alt:"Portfolio ".concat(c," - ").concat(h+1),width:800,height:600,className:"max-h-[70vh] max-w-full object-contain rounded-lg",priority:!0})})]}),i.length>1&&(0,r.jsx)("div",{className:"flex justify-center gap-2 p-4 pt-0 overflow-x-auto",children:i.map((e,i)=>(0,r.jsx)("button",{onClick:()=>p(i),className:"relative w-16 h-16 rounded border-2 flex-shrink-0 ".concat(i===h?"border-blue-500":"border-gray-300"),children:(0,r.jsx)(j.default,{src:e,alt:"Thumbnail ".concat(i+1),fill:!0,className:"object-cover rounded",sizes:"64px"})},i))})]})})]}):null}var I=t(6087);function O(){var e,i,t,m,w,_;let S=(0,a.useParams)(),k=(0,a.useRouter)(),{toast:z}=(0,b.pm)(),D=S.id,[O,E]=(0,s.useState)(null),[Z,T]=(0,s.useState)(!0),[A,R]=(0,s.useState)(!1),[q,V]=(0,s.useState)(null),[P,M]=(0,s.useState)([]),[F,U]=(0,s.useState)(null),[L,G]=(0,s.useState)(!1),[B,H]=(0,s.useState)(!1),[Y,K]=(0,s.useState)(!1),[X,J]=(0,s.useState)({portfolioImages:[],certifications:[],portfolioUrl:"",servicesDescription:""}),[Q,W]=(0,s.useState)(!1),[$,ee]=(0,s.useState)(""),[ei,et]=(0,s.useState)(""),[er,es]=(0,s.useState)(""),[ea,en]=(0,s.useState)(""),[el,eo]=(0,s.useState)(""),[ec,ed]=(0,s.useState)(null);(0,s.useEffect)(()=>{eu()},[D]),(0,s.useEffect)(()=>{(null==O?void 0:O.riders_details)&&J({portfolioImages:O.riders_details.portfolio_images||[],certifications:O.riders_details.certifications||[],portfolioUrl:O.riders_details.portfolio_url||"",servicesDescription:O.riders_details.services_description||""})},[O]),(0,s.useEffect)(()=>{O&&ef()},[O]),(0,s.useEffect)(()=>{if($&&ei&&er){let e=em();ed(e.isValid?null:e.message)}else ed(null)},[$,ei,er,P]);let eu=async()=>{try{T(!0);let{data:e,error:i}=await v.O.from("profiles").select("\n          id,\n          full_name,\n          avatar_url,\n          riders_details (\n            vehicle_type,\n            profile_picture_url,\n            bio,\n            hourly_rate,\n            stripe_account_id,\n            stripe_onboarding_complete,\n            portfolio_images,\n            certifications,\n            portfolio_url,\n            services_description\n          )\n        ").eq("id",D).eq("role","rider").single();if(i){console.error("Error fetching rider profile:",i),V("Rider non trovato");return}let t=Array.isArray(e.riders_details)?e.riders_details[0]:e.riders_details;E({id:e.id,full_name:e.full_name,avatar_url:e.avatar_url,riders_details:t});let{data:r,error:s}=await v.O.from("disponibilita_riders").select("*").eq("rider_id",D).order("day_of_week");!s&&r&&M(r);let{data:{user:a}}=await v.O.auth.getUser();if(a){let{data:e,error:i}=await v.O.from("esercenti").select("*").eq("id",a.id).single();!i&&e&&U(e)}}catch(e){console.error("Error:",e),V("Errore nel caricamento del profilo rider")}finally{T(!1)}},em=()=>{if(!$||!ei||!er||0===P.length)return{isValid:!0,message:""};let e=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"][new Date($).getDay()],i=P.find(i=>i.day_of_week===e);if(!i)return{isValid:!1,message:"Il rider non \xe8 disponibile il ".concat(e.toLowerCase(),". Giorni disponibili: ").concat(P.map(e=>e.day_of_week).join(", "))};let[t,r]=ei.split(":").map(Number),s=parseFloat(er),a="".concat((t+Math.floor(s)).toString().padStart(2,"0"),":").concat(Math.floor(r+s%1*60).toString().padStart(2,"0")),n=i.start_time,l=i.end_time;return ei<n||a>l?{isValid:!1,message:"Il servizio (".concat(ei," - ").concat(a,") non rientra negli orari disponibili del rider per il ").concat(e.toLowerCase()," (").concat(n," - ").concat(l,")")}:{isValid:!0,message:""}},ef=async()=>{try{let i=await fetch("/api/favorites");if(i.ok){var e;let t=await i.json();G((null===(e=t.favorites)||void 0===e?void 0:e.includes(D))||!1)}}catch(e){console.error("Errore nel controllo dello stato dei preferiti:",e)}},ex=async()=>{if(O){H(!0),G(!L);try{L?(await fetch("/api/favorites/".concat(D),{method:"DELETE"})).ok?z({title:"Rimosso dai preferiti",description:"".concat(O.full_name," \xe8 stato rimosso dai tuoi preferiti")}):(G(!0),z({title:"Errore",description:"Unable to remove from favorites"})):(await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({riderId:D})})).ok?z({title:"Aggiunto ai preferiti",description:"".concat(O.full_name," \xe8 stato aggiunto ai tuoi preferiti")}):(G(!1),z({title:"Errore",description:"Unable to add to favorites"}))}catch(e){console.error("Errore nella gestione dei preferiti:",e),G(L),z({title:"Errore",description:"Errore di connessione"})}finally{H(!1)}}},eh=async e=>{if(e.preventDefault(),console.log("\uD83D\uDE80 handleBookingSubmit called"),console.log("\uD83D\uDCDD Form data:",{startDate:$,startTime:ei,duration:er,description:el}),!$||!ei||!er||!el||el.trim().length<2){console.log("❌ Validation failed - missing required fields"),z({title:"Errore",description:"Compila tutti i campi obbligatori. Le istruzioni devono contenere almeno 2 caratteri."});return}let i=parseFloat(er);if(!(0,N.Pz)(i)){console.log("❌ Validation failed - invalid booking hours"),z({title:"Errore",description:N.RZ.INVALID_BOOKING_HOURS});return}console.log("\uD83D\uDD0D Validating availability...");let t=em();if(console.log("\uD83D\uDD0D Validation result:",t),!t.isValid){console.log("❌ Availability validation failed"),z({title:"Conflitto con le Disponibilit\xe0",description:t.message});return}console.log("✅ Validation passed, proceeding with booking..."),R(!0);try{let{data:{user:e},error:i}=await v.O.auth.getUser();if(i||!e){z({title:"Errore",description:"Devi essere autenticato per effettuare una prenotazione"}),k.push("/auth/login");return}let{data:t,error:r}=await v.O.from("service_requests").insert({merchant_id:e.id,rider_id:null==O?void 0:O.id,requested_date:new Date($+"T"+ei).toISOString(),start_time:ei,duration_hours:parseFloat(er),merchant_address:ea,description:el,status:"pending"}).select().single();if(r)throw console.error("❌ Error creating service request:",r),Error("Errore nella creazione della richiesta di servizio");console.log("✅ Service request created:",t),z({title:"Richiesta Inviata!",description:"Richiesta di servizio inviata a ".concat(null==O?void 0:O.full_name,". Riceverai una risposta entro 24 ore.")}),k.push("/dashboard/merchant")}catch(e){console.error("Error creating booking:",e),z({title:"Errore",description:"Errore durante l'invio della richiesta di servizio"})}finally{R(!1)}},ep=async e=>{try{W(!0);let i=await fetch("/api/riders/".concat(D,"/portfolio"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok)throw Error("Failed to save portfolio");let t=await i.json();J(t.data),z({title:"Portfolio aggiornato",description:"Le modifiche sono state salvate con successo"}),E(e=>e?{...e,riders_details:e.riders_details?{...e.riders_details,portfolio_images:t.data.portfolioImages,certifications:t.data.certifications,portfolio_url:t.data.portfolioUrl,services_description:t.data.servicesDescription}:null}:null)}catch(e){console.error("Error saving portfolio:",e),z({title:"Errore",description:"Unable to save portfolio"})}finally{W(!1)}};return Z?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Caricamento profilo rider..."})]})}):q||!O?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)(l.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(l.aY,{className:"text-center p-6",children:[(0,r.jsx)("p",{className:"text-red-500 mb-4",children:q||"Rider non trovato"}),(0,r.jsxs)(n.z,{onClick:()=>k.back(),children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Torna Indietro"]})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)(n.z,{variant:"ghost",onClick:()=>k.back(),children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Torna alla Lista Rider"]}),F&&O&&(0,r.jsxs)(n.z,{variant:"ghost",onClick:ex,disabled:B,className:"flex items-center gap-2 px-4 py-2 hover:bg-red-50",children:[(0,r.jsx)(f,{className:"h-5 w-5 ".concat(L?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-400")}),(0,r.jsx)("span",{className:"text-sm font-medium",children:L?"Nei Preferiti":"Aggiungi ai Preferiti"})]})]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:F?"Prenota Rider":"Profilo Rider"}),(0,r.jsx)("p",{className:"text-gray-600",children:F?"Effettua una prenotazione con ".concat(O.full_name):"Visualizza il profilo di ".concat(O.full_name)})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:(null===(e=O.riders_details)||void 0===e?void 0:e.profile_picture_url)||O.avatar_url?(0,r.jsx)(j.default,{src:(null===(i=O.riders_details)||void 0===i?void 0:i.profile_picture_url)||O.avatar_url||"",alt:O.full_name,width:64,height:64,className:"w-full h-full object-cover"}):(0,r.jsx)(x.Z,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ll,{className:"text-xl",children:O.full_name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:(null===(t=O.riders_details)||void 0===t?void 0:t.vehicle_type)||"Vehicle not specified"})]})]})]})}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),(0,r.jsx)("span",{className:"font-medium",children:"Tariffa Oraria"})]}),(0,r.jsxs)(d.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[(0,y.xG)((null===(m=O.riders_details)||void 0===m?void 0:m.hourly_rate)||0),"/ora"]})]}),(null===(w=O.riders_details)||void 0===w?void 0:w.bio)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Biografia"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:O.riders_details.bio})]}),(0,r.jsx)(C,{portfolioImages:X.portfolioImages,certifications:X.certifications,portfolioUrl:X.portfolioUrl,servicesDescription:X.servicesDescription,riderName:O.full_name,isOwner:!1,onEdit:()=>{K(!0)}}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Disponibile"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Orari Disponibili"}),P.length>0?(0,r.jsx)("div",{className:"space-y-1 text-sm text-gray-600",children:P.map(e=>(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[e.day_of_week,":"]}),(0,r.jsxs)("span",{children:[e.start_time," - ",e.end_time]})]},e.id))}):(0,r.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No availability configured"})]})]})]})]}),F?(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsx)(l.ll,{children:"Richiesta di Servizio"}),(0,r.jsx)(l.SZ,{children:"Compila i dettagli per inviare una richiesta di servizio. Il rider valuter\xe0 la sua disponibilit\xe0 e ti risponder\xe0."})]}),(0,r.jsx)(l.aY,{children:(0,r.jsxs)("form",{onSubmit:eh,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"startDate",children:"Data *"}),(0,r.jsx)(o.I,{id:"startDate",type:"date",value:$,onChange:e=>ee(e.target.value),min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+6048e5).toISOString().split("T")[0],required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"startTime",children:"Ora di Inizio *"}),(0,r.jsx)(o.I,{id:"startTime",type:"time",value:ei,onChange:e=>et(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(c._,{htmlFor:"duration",children:["Durata (max ",N.SI.MAX_BOOKING_HOURS," ore) *"]}),(0,r.jsxs)("select",{id:"duration",value:er,onChange:e=>es(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Seleziona durata"}),(0,r.jsx)("option",{value:"1",children:"1 ora"}),(0,r.jsx)("option",{value:"2",children:"2 ore"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Massimo ",N.SI.MAX_BOOKING_HOURS," ore per prenotazione"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"merchantAddress",children:"Indirizzo di Servizio *"}),(0,r.jsx)(o.I,{id:"merchantAddress",type:"text",value:ea,onChange:e=>en(e.target.value),placeholder:"L'indirizzo completo dove il rider deve presentarsi",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Pu\xf2 essere l'indirizzo della tua attivit\xe0 o qualsiasi altro indirizzo dove serve il servizio"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"description",children:"Istruzioni e Comunicazioni *"}),(0,r.jsx)("textarea",{id:"description",value:el,onChange:e=>eo(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Inserisci istruzioni specifiche, indirizzi, note particolari o comunicazioni per il rider...",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Campo obbligatorio - minimo 2 caratteri"})]}),ec&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:[(0,r.jsx)("strong",{children:"⚠️ Conflitto con le Disponibilit\xe0:"}),(0,r.jsx)("br",{}),ec]}),$&&ei&&er&&ea&&el&&el.trim().length>=2&&(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:"Riepilogo Richiesta"}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Data richiesta:"}),(0,r.jsx)("span",{children:new Date($).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Ora di inizio:"}),(0,r.jsx)("span",{children:ei})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Durata:"}),(0,r.jsxs)("span",{children:[er," ","1"===er?"ora":"ore"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Indirizzo:"}),(0,r.jsx)("span",{className:"text-right max-w-xs truncate",title:ea,children:ea})]}),el&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Istruzioni:"}),(0,r.jsx)("span",{className:"text-right max-w-xs truncate",title:el,children:el})]}),(0,r.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,r.jsx)("span",{children:"Costo stimato:"}),(0,r.jsx)("span",{children:(0,y.xG)((parseFloat(er)||0)*((null==O?void 0:null===(_=O.riders_details)||void 0===_?void 0:_.hourly_rate)||0))})]})]}),(0,r.jsx)("div",{className:"mt-3 p-2 bg-blue-100 rounded text-xs text-blue-800",children:"\uD83D\uDCA1 Il rider ricever\xe0 questa richiesta e ti risponder\xe0 entro 24 ore"})]}),(0,r.jsx)(n.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:A||!!ec,children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Invio Richiesta..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Verifica Disponibilit\xe0"]})})]})})]}):(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsx)(l.ll,{children:"Area Riservata agli Esercenti"}),(0,r.jsx)(l.SZ,{children:"Solo gli esercenti possono inviare richieste di servizio ai rider. If you are a rider interested in collaborating, wait to receive requests from merchants."})]}),(0,r.jsx)(l.aY,{children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFEA"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Questa sezione \xe8 riservata agli esercenti per gestire le prenotazioni."})]})})]})]})]}),Y&&(0,r.jsx)(I.Z,{initialData:X,onSave:ep,onClose:()=>K(!1),isLoading:Q})]})}},2869:function(e,i,t){"use strict";t.d(i,{z:function(){return c}});var r=t(7437),s=t(2265),a=t(7053),n=t(535),l=t(4508);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,i)=>{let{className:t,variant:s,size:n,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:i,...d})});c.displayName="Button"},6070:function(e,i,t){"use strict";t.d(i,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},ll:function(){return o}});var r=t(7437),s=t(2265),a=t(4508);let n=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:i,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});n.displayName="Card";let l=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:i,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:i,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:i,className:(0,a.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:i,className:(0,a.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:i,className:(0,a.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},5186:function(e,i,t){"use strict";t.d(i,{I:function(){return n}});var r=t(7437),s=t(2265),a=t(4508);let n=s.forwardRef((e,i)=>{let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...n})});n.displayName="Input"},6815:function(e,i,t){"use strict";t.d(i,{_:function(){return c}});var r=t(7437),s=t(2265),a=t(6394),n=t(535),l=t(4508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,r.jsx)(a.f,{ref:i,className:(0,l.cn)(o(),t),...s})});c.displayName=a.f.displayName},7992:function(e,i,t){"use strict";t.d(i,{Am:function(){return u},pm:function(){return m}});var r=t(2265);let s=0,a=new Map,n=e=>{if(a.has(e))return;let i=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,i)},l=(e,i)=>{switch(i.type){case"ADD_TOAST":return{...e,toasts:[i.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===i.toast.id?{...e,...i.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=i;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===i.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==i.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let i=(s=(s+1)%1e6).toString(),t=()=>d({type:"DISMISS_TOAST",toastId:i});return d({type:"ADD_TOAST",toast:{...e,id:i,open:!0,onOpenChange:e=>{e||t()}}}),{id:i,dismiss:t,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:i}})}}function m(){let[e,i]=r.useState(c);return r.useEffect(()=>(o.push(i),()=>{let e=o.indexOf(i);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},6524:function(e,i,t){"use strict";function r(e){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)}t.d(i,{xG:function(){return r}})},2141:function(e,i,t){"use strict";t.d(i,{O:function(){return r}});let r=(0,t(5214).createBrowserClient)("https://uolpvxgcobjefivqnscj.supabase.co","sb_publishable_XfZivZLXatSeakd_ccimng_ZiTnn0dN")},4508:function(e,i,t){"use strict";t.d(i,{cn:function(){return a}});var r=t(1994),s=t(3335);function a(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return(0,s.m6)((0,r.W)(i))}},2660:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3327:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},421:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]])},6362:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},3113:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},5863:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7689:function(e,i,t){"use strict";t.d(i,{Z:function(){return r}});let r=(0,t(9763).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}},function(e){e.O(0,[214,569,818,276,219,971,117,744],function(){return e(e.s=9923)}),_N_E=e.O()}]);