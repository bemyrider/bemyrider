[
  {
    "id": "TC001",
    "title": "User Registration with Role Selection",
    "description": "Verify that user registration allows selection of rider or merchant role, and automatically creates the correct profile in the database.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the registration page"
      },
      {
        "type": "action",
        "description": "Input valid registration data with rider role selected"
      },
      {
        "type": "action",
        "description": "Submit the registration form"
      },
      {
        "type": "assertion",
        "description": "Check that registration succeeds and rider profile is created in the database"
      },
      {
        "type": "assertion",
        "description": "Verify user is redirected to rider dashboard"
      },
      {
        "type": "action",
        "description": "Repeat registration with merchant role selected and valid data"
      },
      {
        "type": "assertion",
        "description": "Check merchant profile is created and redirect to merchant dashboard"
      },
      {
        "type": "action",
        "description": "Attempt registration with missing or invalid role"
      },
      {
        "type": "assertion",
        "description": "Verify registration is rejected with appropriate error message"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Login Authentication and Role-Based Redirection",
    "description": "Validate login functionality authenticates user and redirects them to the correct dashboard based on role.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to login page"
      },
      {
        "type": "action",
        "description": "Provide valid credentials for a rider account"
      },
      {
        "type": "action",
        "description": "Click login button"
      },
      {
        "type": "assertion",
        "description": "Verify authentication success and redirect to rider dashboard"
      },
      {
        "type": "action",
        "description": "Logout"
      },
      {
        "type": "action",
        "description": "Provide valid credentials for a merchant account"
      },
      {
        "type": "action",
        "description": "Click login button"
      },
      {
        "type": "assertion",
        "description": "Verify authentication success and redirect to merchant dashboard"
      },
      {
        "type": "action",
        "description": "Attempt login with incorrect password"
      },
      {
        "type": "assertion",
        "description": "Verify authentication failure and error message displayed"
      },
      {
        "type": "action",
        "description": "Attempt login with unregistered email"
      },
      {
        "type": "assertion",
        "description": "Verify authentication failure and appropriate error message"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Merchant Dashboard Access Control",
    "description": "Ensure that only authenticated merchant users can access merchant dashboard and that data displayed is accurate and up-to-date.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a merchant user"
      },
      {
        "type": "action",
        "description": "Navigate to merchant dashboard"
      },
      {
        "type": "assertion",
        "description": "Verify dashboard loads successfully with merchant-specific data such as statistics, rider search and booking management"
      },
      {
        "type": "action",
        "description": "Logout and attempt to access merchant dashboard URL directly"
      },
      {
        "type": "assertion",
        "description": "Verify redirection to login page"
      },
      {
        "type": "action",
        "description": "Login as a rider user and attempt to access merchant dashboard URL"
      },
      {
        "type": "assertion",
        "description": "Verify access is denied or redirected to rider dashboard"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Rider Dashboard Access Control and Profile Management",
    "description": "Verify rider users can access their dashboard, manage profile data, update availability and tariff, and see correct statistics.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as rider user"
      },
      {
        "type": "action",
        "description": "Navigate to rider dashboard"
      },
      {
        "type": "assertion",
        "description": "Verify dashboard shows rider-specific data and controls"
      },
      {
        "type": "action",
        "description": "Update personal profile data (e.g., name, email)"
      },
      {
        "type": "assertion",
        "description": "Verify profile update success and updated data is reflected"
      },
      {
        "type": "action",
        "description": "Modify rider availability on calendar"
      },
      {
        "type": "assertion",
        "description": "Verify changes are saved and displayed correctly"
      },
      {
        "type": "action",
        "description": "Update tariff rate"
      },
      {
        "type": "assertion",
        "description": "Verify tariff update is successful and persisted"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Merchant Rider Booking Flow",
    "description": "Test the complete flow of a merchant booking a rider, including searching riders, making a booking, and updating booking status with notifications.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as merchant user"
      },
      {
        "type": "action",
        "description": "Search rider list with filters (e.g., availability, rate)"
      },
      {
        "type": "assertion",
        "description": "Verify search results respect filters and display accurate data"
      },
      {
        "type": "action",
        "description": "Create a new booking for a selected rider with valid date and time"
      },
      {
        "type": "assertion",
        "description": "Verify booking is created and visible in booking management"
      },
      {
        "type": "action",
        "description": "Update booking status (e.g., confirmed, completed)"
      },
      {
        "type": "assertion",
        "description": "Verify status updates are reflected and related notifications are sent"
      },
      {
        "type": "action",
        "description": "Attempt booking with invalid dates or unavailable rider"
      },
      {
        "type": "assertion",
        "description": "Verify error is shown and booking is prevented"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Stripe Connect Payment Integration",
    "description": "Validate that payments through Stripe Connect work correctly including onboarding, payment intents, and webhook synchronization.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a rider and complete Stripe onboarding flow"
      },
      {
        "type": "assertion",
        "description": "Verify Stripe account is created and linked properly"
      },
      {
        "type": "action",
        "description": "Login as merchant and initiate a payment to a rider via Stripe"
      },
      {
        "type": "assertion",
        "description": "Verify payment intent is created and processed successfully"
      },
      {
        "type": "action",
        "description": "Trigger a Stripe webhook event simulating payment succeeded"
      },
      {
        "type": "assertion",
        "description": "Verify system processes webhook and updates payment and booking status accordingly"
      },
      {
        "type": "action",
        "description": "Simulate failed payment and invalid webhook data"
      },
      {
        "type": "assertion",
        "description": "Verify errors are handled gracefully and logged without disrupting service"
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Profile Data Security and Access Controls",
    "description": "Ensure that only the logged-in user can view and modify their personal and fiscal data, with proper authorization enforcement.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a user"
      },
      {
        "type": "action",
        "description": "Attempt to access profile data API of another user"
      },
      {
        "type": "assertion",
        "description": "Verify access denied by Row Level Security and authorization rules"
      },
      {
        "type": "action",
        "description": "Modify own profile and fiscal data"
      },
      {
        "type": "assertion",
        "description": "Verify changes are saved and no unauthorized access is possible"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Account Deletion with Double Confirmation",
    "description": "Validate the secure account deletion process requires double confirmation and properly deletes all user data from Supabase and the database.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as user"
      },
      {
        "type": "action",
        "description": "Navigate to account deletion interface"
      },
      {
        "type": "action",
        "description": "Initiate account deletion process"
      },
      {
        "type": "assertion",
        "description": "Verify first confirmation prompt is displayed"
      },
      {
        "type": "action",
        "description": "Confirm deletion step one"
      },
      {
        "type": "assertion",
        "description": "Verify second confirmation prompt is displayed"
      },
      {
        "type": "action",
        "description": "Confirm deletion step two"
      },
      {
        "type": "assertion",
        "description": "Verify user is logged out"
      },
      {
        "type": "assertion",
        "description": "Verify all user data is removed from Supabase Auth and application database"
      },
      {
        "type": "action",
        "description": "Attempt to login again with deleted user credentials"
      },
      {
        "type": "assertion",
        "description": "Verify login fails with appropriate error"
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Row Level Security Enforcement",
    "description": "Test that Row Level Security policies effectively isolate data between users and roles, preventing unauthorized data access.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as rider user A"
      },
      {
        "type": "action",
        "description": "Attempt to read or modify rider user B's data via API"
      },
      {
        "type": "assertion",
        "description": "Verify access is denied or data is filtered out"
      },
      {
        "type": "action",
        "description": "Login as merchant user C"
      },
      {
        "type": "action",
        "description": "Attempt to access rider-only data or change rider profiles belonging to others"
      },
      {
        "type": "assertion",
        "description": "Verify restrictions and isolation are enforced"
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Secure Logout Functionality",
    "description": "Verify that logging out securely clears the session, provides user feedback, and redirects correctly to login page.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as any user"
      },
      {
        "type": "action",
        "description": "Trigger logout action"
      },
      {
        "type": "assertion",
        "description": "Verify user session is terminated"
      },
      {
        "type": "assertion",
        "description": "Verify user sees logout confirmation or feedback"
      },
      {
        "type": "assertion",
        "description": "Verify user is redirected to login page"
      },
      {
        "type": "action",
        "description": "Attempt to access a protected page after logout"
      },
      {
        "type": "assertion",
        "description": "Verify access is denied and redirected to login"
      }
    ]
  },
  {
    "id": "TC011",
    "title": "UI Performance and Responsiveness",
    "description": "Test UI loads quickly, navigations are smooth with immediate feedback, and no navigation issues occur during typical user interactions.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Load login and registration pages multiple times under normal network conditions"
      },
      {
        "type": "assertion",
        "description": "Page load time is within acceptable limits (e.g., <2 seconds)"
      },
      {
        "type": "action",
        "description": "Perform navigation through dashboard and profile pages repeatedly"
      },
      {
        "type": "assertion",
        "description": "Navigation is smooth without UI glitches or delays"
      },
      {
        "type": "action",
        "description": "Trigger actions such as form submissions, data edits, and logout"
      },
      {
        "type": "assertion",
        "description": "Feedback and UI updates occur immediately with visible status messages or UI changes"
      },
      {
        "type": "action",
        "description": "Test UI on different screen sizes and devices"
      },
      {
        "type": "assertion",
        "description": "Verify UI remains responsive and visually consistent"
      }
    ]
  }
]
